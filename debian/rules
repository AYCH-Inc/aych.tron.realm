#!/usr/bin/make -f
# -*- makefile -*-
# Sample debian/rules that uses debhelper.
# This file was originally written by Joey Hess and Craig Small.
# As a special exception, when this file is copied by dh-make into a
# dh-make output file, you may use that output file without restriction.
# This special exception was added by Craig Small in version 0.37 of dh-make.

# Uncomment this to turn on verbose mode.
#export DH_VERBOSE=1

override_dh_usrlocal:

clean:
	dh_testdir
	dh_clean
	sh build.sh clean

libtightdb-build:
	sh build.sh build

libtightdb-install: build
	dh_installdirs
	sh build.sh install $$(pwd)/debian/tightdb/usr

libtightdb-binary-indep: libtightdb-install

libtightdb-binary-arch: libtightdb-install
	dh_testdir -a
	dh_testroot -a
	dh_installdocs -a
	dh_installchangelogs -a
	dh_strip -a
	dh_compress -s
	dh_fixperms -a
	dh_installdeb -a
	dh_shlibdeps -a
	dh_gencontrol -a
	dh_md5sums -a
	dh_builddeb -a

libtightdb-binary: libtightdb-binary-indep libtightdb-binary-arch

libtightdb-dev-build:
	sh build.sh build

libtightdb-dev-install: build
	dh_installdirs
	sh build.sh install $$(pwd)/debian/tightdb/usr

libtightdb-dev-binary-indep: libtightdb-dev-install

libtightdb-dev-binary-arch: libtightdb-dev-install
	dh_testdir -a
	dh_testroot -a
	dh_installdocs -a
	dh_installchangelogs -a
	dh_strip -a
	dh_compress -s
	dh_fixperms -a
	dh_installdeb -a
	dh_shlibdeps -a
	dh_gencontrol -a
	dh_md5sums -a
	dh_builddeb -a

libtightdb-dev-binary: libtightdb-dev-binary-indep libtightdb-dev-binary-arch


.PHONY: libtightdb-binary libtightdb-binary-arch libtightdb-binary-indep clean libtightdb-checkroot libtightdb-dev-binary libtightdb-dev-binary-arch libtightdb-dev-binary-indep clean libtightdb-dev-checkroot
